<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	layout:decorator="~{layout}">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link href="../../static/css/bootstrap.min.css" rel="stylesheet">
<link href="../../static/css/bootstrap.css" rel="stylesheet">
<link href="../../static/css/home.css" rel="stylesheet">


</head>

<body>

	<section layout:fragment="content">

		<div class="container mb-2 pb-2">
			<button type="button" class="btn my-3"
				style="background-color: #080090; color: white;"
				id="alimentacao-toggle" data-toggle="collapse"
				data-target="#alimentacao_wrapper" aria-expanded="false"
				aria-controls="alimentacao_wrapper">Solicitar Vale
				Alimentação</button>

			<div class="container collapse my-2 mx-auto" id="alimentacao_wrapper">
				<form action="#" th:action="@{/logado_usuario/alimentacao}"
					th:object="${solicitacoesDiversas}" method="post">
					<div class="form-row">
						<div class="col">
							<label for="tipo">Tipo</label> <select class="form-control"
								id="tipo" th:field="*{tipo}">
								<option th:value="0" selected>Selecione o tipo</option>
								<option th:value="1">Refeição</option>
								<option th:value="2">Alimentação</option>
							</select>
						</div>
						<div class="col">
							<label for="quantidade">Quantidade</label> <select
								name="quantidade" th:field="*{quantidade}" class="form-control"
								id="quantidade">
								<option th:value="0" selected>Selecione a quantidade</option>
								<option th:value="1">1</option>
								<option th:value="2">2</option>
								<option th:value="3">3</option>
								<option th:value="4">4</option>
								<option th:value="5">5</option>
							</select>
						</div>
					</div>


					<div class="form-group">
						<button type="submit" class="btn"
							style="background-color: #080090; color: white;">Submeter</button>
					</div>
				</form>
			</div>

			<div class="alimentacaolist"
				th:unless="${#lists.isEmpty(allAlimentacaoUsuario)}">

				<h2>Histórico de Solicitações</h2>

				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Data da Solicitação</th>
							<th scope="col">Tipo</th>
							<th scope="col">Loja</th>
							<th scope="col">Status</th>
							<th scope="col">Previsão de entrega</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cr : ${allAlimentacaoUsuario}">
							<td th:text="${#dates.format(cr.dataSolicitacao, 'dd-MM-yyyy')}"></td>
							<td th:if="${cr.tipo == 1}" th:text="Refeição"></td>
							<td th:unless="${cr.tipo == 1}" th:text="Alimentação"></td>
							<td th:text="|${cr.empresa.codigo} - ${cr.empresa.razaoSocial}"></td>
							<td th:text="${cr.status}"></td>
							<td th:text="${#dates.format(cr.dataPrevisao, 'dd-MM-yyyy')}"></td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</section>

</body>

<script src="../../static/jquery/jquery.min.js" type="text/javascript"></script>

<script src="../../static/js/bootstrap.min.js"></script>
<script src="../../static/js/bootstrap.bundle.min.js"></script>


<!-- <script language="javascript"> -->

<!-- </script> -->

</html>