<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	layout:decorator="~{layout}">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link href="../../static/css/bootstrap.min.css" rel="stylesheet">
<link href="../../static/css/bootstrap.css" rel="stylesheet">
<link href="../../static/css/home.css" rel="stylesheet">


</head>

<body>

	<section layout:fragment="content">

		<div class="container my-2 py-2">
			<button type="button" class="btn my-3"
				style="background-color: #080090; color: white;" id="cracha-toggle"
				data-toggle="collapse" data-target="#cracha_wrapper"
				aria-expanded="false" aria-controls="cracha_wrapper">Solicitar
				Crachá</button>

			<div class="container collapse my-2 mx-auto" id="cracha_wrapper">
				<form action="#" th:action="@{/logado_usuario/cracha}"
					enctype="multipart/form-data" th:object="${solicitacoesDiversas}"
					method="post">
					<!-- 					<div class="form-group"> -->
					<!-- 						<label for="dataFormated" class="col-sm-2 col-form-label">Data Solicitação</label> -->
					<!-- 						<div class="col-sm-10"> -->
					<!-- 							<input type="text" readonly class="form-control-plaintext" -->
					<!-- 								id="dataFormated" th:value="${dataFormatada}"> -->
					<!-- 						</div> -->
					<!-- 					</div> -->
					<div class="form-group">
						<label for="tipoCracha">Tipo do Crachá</label> <select
							class="form-control" id="tipoCracha" th:field="*{tipo}">
							<option th:value="0" selected>Selecione o tipo do crachá</option>
							<option th:value="1">Permanente</option>
							<option th:value="2">Provisório</option>
						</select>
					</div>
					<div class="form-group">
						<label for="qntCracha">Quantidade</label> <select name="qntCracha"
							th:field="*{quantidade}" class="form-control" id="qntCracha">
							<option th:value="0" selected>Selecione a quantidade de
								crachás</option>
							<option th:value="1">1</option>
							<option th:value="2">2</option>
							<option th:value="3">3</option>
							<option th:value="4">4</option>
							<option th:value="5">5</option>
						</select>
					</div>

					<div class="form-group">
						<label for="cordao">Cordão</label> <select class="form-control"
							id="cordao" th:field="*{obsa}">
							<option th:value=null selected>Deseja cordão?</option>
							<option th:value="Sim">Sim</option>
							<option th:value="Não">Não</option>
						</select>
					</div>
					<div class="form-group">
						<label for="uploadFoto">Upload da foto</label> <input type="file"
							class="form-control-file" name="file">
					</div>

					<div class="form-group">
						<button type="submit" class="btn"
							style="background-color: #080090; color: white;">Submeter</button>
					</div>
				</form>

			</div>

			<div class="crachalist"
				th:unless="${#lists.isEmpty(allCrachaUsuario)}">

				<h2>Histórico de Solicitações</h2>

				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Data da Solicitação</th>
							<th scope="col">Tipo</th>
							<th scope="col">Quantidade</th>
							<th scope="col">Cordão</th>
							<th scope="col">Status</th>
							<th scope="col">Foto</th>
							<th scope="col">Previsão de entrega</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cr : ${allCrachaUsuario}">
							<td th:text="${#dates.format(cr.dataSolicitacao, 'dd-MM-yyyy')}"></td>
							<td th:if="${cr.tipo == 1}" th:text="Permanente"></td>
							<td th:unless="${cr.tipo == 1}" th:text="Provisório"></td>
							<td th:text="${cr.quantidade}">0</td>
							<td th:text="${cr.obsa}"></td>
							<td th:text="${cr.status}"></td>
							<td th:text="${cr.upload}"></td>
							<td th:text="${#dates.format(cr.dataPrevisao, 'dd-MM-yyyy')}"></td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</section>

</body>

<script src="../../static/jquery/jquery.min.js" type="text/javascript"></script>

<script src="../../static/js/bootstrap.min.js"></script>
<script src="../../static/js/bootstrap.bundle.min.js"></script>


<!-- <script language="javascript"> -->

<!-- </script> -->

</html>