<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	layout:decorator="~{layout}">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link href="../../static/css/bootstrap.min.css" rel="stylesheet"
	th:href="@{/css/bootstrap.min.css}">
<link href="../../static/css/bootstrap.css" rel="stylesheet"
	th:href="@{/css/bootstrap.css}">
<link href="../../static/css/home.css" rel="stylesheet"
	th:href="@{/css/home.css}">
<link href="../../static/css/dataTables.bootstrap4.min.css"
	rel="stylesheet" th:href="@{/css/dataTables.bootstrap4.min.css}">
<link th:rel="stylesheet" th:href="@{/css/bootstrap-datepicker.css}" />
<link th:rel="stylesheet"
	th:href="@{/css/bootstrap-datepicker.standalone.css}" />
<link th:rel="stylesheet" th:href="@{/css/table.css}" />
<link th:rel="stylesheet" th:href="@{/css/all.css} " />
<link
	href="http://code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css"
	rel="stylesheet" />
<body>

	<section layout:fragment="content">

		<div class="container">

			<div class="container my-4 mx-auto" id="filtro_wrapper">
				<h4>Buscar Solicitações Pendentes</h4>
				<form action="#" th:action="@{/logado_rh/envio_produtos}"
					method="get">
					<div class="form-row">
						<div class="col">
							<!-- 							<label for="tipoProduto">Produto</label>  -->
							<select name="solicitacao" class="form-control" id="tipoProduto">
								<option th:value="ALL" selected>Selecionar Produto</option>
								<option th:value="CRA">Crachá</option>
								<option th:value="UNI">Uniform</option>
								<option th:value="ALI">Vale Alimentação</option>
								<option th:value="TRA">Vale Transporte</option>
								<option th:value="SAU">Plano de Saúde</option>
								<option th:value="ODO">Plano Odontológico</option>
								<option th:value="DRO">Convênio Drogalider</option>
							</select>
						</div>
						<div class="col">
							<!-- 							<label for="unidade">Unidades/Lojas</label>  -->
							<select name="unidade" class="form-control" id="unidade">
								<option th:value="9999" selected>Selecionar Unidades</option>
								<option th:each="item : ${allEmpresas}"
									th:value="${item.codigo}"
									th:text="|${item.codigo} - ${item.razaoSocial}|"></option>
							</select>
						</div>
						<div class="col">
							<!-- 							<div class="form-group"> -->
							<button id="buscar" type="submit" class="btn"
								style="background-color: #080090; color: white;">Buscar</button>
							<!-- 							</div> -->
						</div>
					</div>


				</form>
			</div>

			<!-- 			<section layout:fragment="table_content"> -->
			<!-- 				<p>Your page content goes here</p> -->
			<!-- 			</section> -->

			<!-- 			<button type="button" class="btn btn-secondary my-5" -->
			<!-- 				id="cadastroProd-toggle" data-toggle="collapse" -->
			<!-- 				data-target="#produto_wrapper" aria-expanded="false" -->
			<!-- 				aria-controls="produto_wrapper">Ver produtos cadastrados</button> -->

			<form action="#" th:action="@{/logado_rh/envio_produtos}" method="post"
				th:object="${listaEnvio}">
				<div class="container my-4 mx-auto" id="solicitacoes_wrapper">

					<div class="solicitacoeslist"
						th:if="${#lists.isEmpty(listaSolicitacoes)}">
						<p>Nenhum resultado encontrado</p>
					</div>

					<div class="tableFixHead solicitacoeslist"
						th:unless="${#lists.isEmpty(listaSolicitacoes)}">

						<!-- 					<h2>Solicitações Pendentes</h2> -->

						<!-- 					<table class="table table-bordered"> -->
						<table id="solicitacoesTable"
							class="table table-striped table-bordered" style="width: 100%">
							<thead>
								<tr>
									<th scope="col">Selecionar</th>
									<th scope="col">Tipo</th>
									<th scope="col">Data Solicitação</th>
									<th scope="col">Funcionário</th>
									<th scope="col">Quantidade</th>
									<th scope="col">Prazo de Entrega</th>

								</tr>
							</thead>
							<tbody>
								<tr th:each="item,stat : *{lista}">
									<td class="align-center">
										<!-- 									<input type="checkbox" name="enviar"  --> <!-- 									th:checked="${item.selected}"> -->
										<input type="checkbox"
										th:field="*{lista[__${stat.index}__].selected}" /> <input
										type="hidden"
										th:field="*{lista[__${stat.index}__].solicitacao}" /> <input
										type="hidden"
										th:field="*{lista[__${stat.index}__].dataSolicitacao}" /> <input
										type="hidden"
										th:field="*{lista[__${stat.index}__].usuario.codigo}" /> <input
										type="hidden"
										th:field="*{lista[__${stat.index}__].quantidade}" /> <input
										type="hidden"
										th:field="*{lista[__${stat.index}__].dataPrevisao}" /> <input
										type="hidden" th:field="*{lista[__${stat.index}__].id}" />
									</td>
									<td th:if="${item.solicitacao == 'CRA'}" th:text="Cracha"></td>
									<td th:if="${item.solicitacao == 'UNI'}" th:text="Uniforme"></td>
									<td th:if="${item.solicitacao == 'ALI'}">Vale Alimentação</td>
									<td th:if="${item.solicitacao == 'TRA'}" th:text="Transporte"></td>
									<td th:if="${item.solicitacao == 'SAU'}" th:text="Saude"></td>
									<td th:if="${item.solicitacao == 'ODO'}" th:text="Odontologico"></td>
									<td th:if="${item.solicitacao == 'DRO'}" th:text="Drogalider"></td>
									<td th:if="${item.solicitacao == 'CRACHA'}" th:text="Cracha"></td>
									<td th:text="${#dates.format(item.dataSolicitacao, 'dd-MM-yyyy')}"></td>
									<td th:text="|${item.usuario.codigo} - ${item.usuario.nome}|"></td>
									<td th:text="${item.quantidade}"></td>
									<td th:text="${#dates.format(item.dataPrevisao, 'dd-MM-yyyy')}"></td>

								</tr>
							</tbody>
						</table>
						<div class="form-row mb-3">

							<div class="col">
								<label id="calendario">Data Envio</label> <input id="calendario"
									name="calendario" type="date" class="form-control"
									placeholder="31/12/2021" />
							</div>
						<div class="col"></div>
						<div class="col"></div>
						</div>
						<button class="btn"
							style="background-color: #080090; color: white;" type="submit">Enviar</button>
					</div>

				</div>

				<!-- 			<div class="container"> -->




			</form>

		</div>
	</section>

</body>

<script src="../../static/jquery/jquery.min.js" type="text/javascript"
	th:src="@{/jquery/jquery.min.js}"></script>
<script src="../../static/jquery/jquery.dataTables.min.js"
	type="text/javascript" th:src="@{/jquery/jquery.dataTables.min.js}"></script>
<script src="../../static/js/bootstrap.min.js"
	th:src="@{/js/bootstrap.min.js}"></script>
<script src="../../static/js/bootstrap.bundle.min.js"
	th:src="@{/js/bootstrap.bundle.min.js}"></script>
<script src="../../static/js/dataTables.bootstrap4.min.js"
	th:src="@{/js/dataTables.bootstrap4.min.js}"></script>

<script th:src="@{js/popper.min.js}"></script>
<script src="http://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
<script th:src="@{/js/bootstrap-datepicker.js}"></script>

<script>
	// Select all check boxes : Setting the checked property to true in checkAll() function
	// 	function checkAll() {
	// 		var items = document.getElementsByName('enviar');
	// 		for (var i = 0; i < items.length; i++) {
	// 			if (items[i].type == 'checkbox')
	// 				items[i].checked = true;
	// 		}
	// 	}
	// 	// Clear all check boxes : Setting the checked property to false in uncheckAll() function
	// 	function unCheckAll() {
	// 		var items = document.getElementsByName('enviar');
	// 		for (var i = 0; i < items.length; i++) {
	// 			if (items[i].type == 'checkbox')
	// 				items[i].checked = false;
	// 		}
	// 	}

	$(function() {
		$("#calendario").datepicker();
	});

	// 	$(document).ready(function() {
	// 		$('#solicitacoes').DataTable({
	// 			"scrollY" : "200px",
	// 			"scrollCollapse" : true,
	// 			"paging" : false
	// 		});
	// 	});

	// 	$(document).ready(function() {
	// 		$('#solicitacoes').DataTable();
	// 	});

	// 	$(function() {
	// 		$('#datetimepicker2').datetimepicker({
	// 			locale : 'pt-br'
	// 		});
	// 	});
</script>
<!-- <script language="javascript"> -->

<!-- </script> -->

</html>