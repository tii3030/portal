<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	layout:decorator="~{layout}">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link href="../../static/css/bootstrap.min.css" rel="stylesheet">
<link href="../../static/css/bootstrap.css" rel="stylesheet">
<link href="../../static/css/home.css" rel="stylesheet">


</head>

<body>

	<section layout:fragment="content">

		<div class="container my-2 py-2">

			<div class="container my-2 mx-auto" id="_wrapper">
				<h4>Buscar CEP</h4>
				<form action="#" th:action="@{/logado_chave/atualiza_cadastro}"
					method="get">
					<div class="form-row">
						<div class="col">
							<p class="font-weight-bold">CEP:</p>
							<input type="text" class="form-control"
								name="cepCodigo" maxlength="8">
						</div>
						<div class="col">
							<!-- 							<div class="form-group"> -->
							<button id="buscar" type="submit" class="btn"
								style="background-color: #080090; color: white; margin-top: auto;">Buscar</button>
							<!-- 							</div> -->
						</div>
					</div>


				</form>

			</div>

			<div class="container my-2 mx-auto" id="rapper">
				<form action="#" th:action="@{/logado_chave/atualiza_cadastro}"
					method="post">

					<div class="form-group">
						<input type="hidden" th:value="${cepCodigo}" name="cep"> <input
							type="hidden" th:value="${cid}" name="cidade">
					</div>

					<div class="form-group">
						<p class="font-weight-bold">Tipo Logradouro:</p>
						<select name="tipLog" class="form-control" id="tipLog">
							<option th:value="ZZZ" selected>Selecione</option>
							<option th:each="item : ${tipLogr}" th:value="${item}"
								th:text="${item}"></option>
						</select>
					</div>
					<div class="form-group">
						<p class="font-weight-bold">Endereço:</p>
						<input type="text" class="form-control" name="endereco">
						<p class="font-weight-bold">Número:</p>
						<input type="text" class="form-control" name="numero">
					</div>
					<div class="form-group">
						<p class="font-weight-bold">Complemento:</p>
						<input type="text" class="form-control"
							name="complemento">
						<p class="font-weight-bold">Bairro:</p>
						<select name="bairro" class="form-control" id="tipLog">
							<option th:value="B" selected>Bairro</option>
							<option th:each="item : ${listacep}" th:value="${item.codbai}"
								th:text="${item.nombai}"></option>
						</select>

					</div>
					<div class="form-group">
						<p class="font-weight-bold">DDD Telefone 1:</p>
						<input type="text" class="form-control" name="dddtel1">
						<p class="font-weight-bold">Telefone 1:</p>
						<input type="text" class="form-control" name="tel1">
					</div>
					<div class="form-group">
						<p class="font-weight-bold">DDD Telefone 2:</p>
						<input type="text" class="form-control" name="dddtel2">
						<p class="font-weight-bold">Telefone 2:</p>
						<input type="text" class="form-control" name="tel2">
					</div>
					<div class="form-group">
						<p class="font-weight-bold">Email:</p>
						<input type="email" class="form-control" name="email">
					</div>


					<div class="form-group">
						<button type="submit" class="btn"
							style="background-color: #080090; color: white;">Submeter</button>
					</div>
				</form>

			</div>

			<div class="crachalist"
				th:unless="${#lists.isEmpty(allCrachaUsuario)}">

				<h2>Histórico de Solicitações</h2>

				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Data da Solicitação</th>
							<th scope="col">Tipo</th>
							<th scope="col">Quantidade</th>
							<th scope="col">Cordão</th>
							<th scope="col">Status</th>
							<th scope="col">Foto</th>
							<th scope="col">Previsão de entrega</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cr : ${allCrachaUsuario}">
							<td th:text="${#dates.format(cr.dataSolicitacao, 'dd-MM-yyyy')}"></td>
							<td th:if="${cr.tipo == 1}" th:text="Permanente"></td>
							<td th:unless="${cr.tipo == 1}" th:text="Provisório"></td>
							<td th:text="${cr.quantidade}">0</td>
							<td th:text="${cr.obsa}"></td>
							<td th:text="${cr.status}"></td>
							<td th:text="${cr.upload}"></td>
							<td th:text="${#dates.format(cr.dataPrevisao, 'dd-MM-yyyy')}"></td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</section>

</body>

<script src="../../static/jquery/jquery.min.js" type="text/javascript"></script>

<script src="../../static/js/bootstrap.min.js"></script>
<script src="../../static/js/bootstrap.bundle.min.js"></script>


<!-- <script language="javascript"> -->

<!-- </script> -->

</html>