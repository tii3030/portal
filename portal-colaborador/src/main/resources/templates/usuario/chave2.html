<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="base/layout">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="description" content="Portal Colaborador Eletrosom" />
<meta name="author" content="Paulo Junior" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../static/css/bootstrap.min.css" rel="stylesheet"
	media="screen" th:href="@{~/css/bootstrap.min.css}" />
<link href="../../static/css/core.css" rel="stylesheet" media="screen"
	th:href="@{~/css/core.css}" />
<!-- Custom styles for this template -->
<link href="../../static/css/business-frontpage.css" rel="stylesheet"
	th:href="@{~/css/business-frontpage.css}">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link href="css/signin.css" rel="stylesheet" media="screen"
	th:href="@{css/signin.css}">

<script src="../../static/js/jquery.min.js"
	th:src="@{~/js/jquery.min.js}"></script>
<script src="../../static/js/bootstrap.min.js"
	th:src="@{~/js/bootstrap.min.js}"></script>
<script src="../../static/js/bootstrap.bundle.min.js"
	th:href="@{~/js/bootstrap.bundle.min.js}"></script>

<script type="text/javascript">
	function limparMensagem() {

		document.getElementById('p-mensagem-sucesso').innerHTML = '';
	}
</script>

<link href="css/signin.css" rel="stylesheet" media="screen"
	th:href="@{css/signin.css}">
<title>Login</title>
</head>
<body>

	<div th:insert="~{fragments/header :: header}">&copy;</div>

	<header class="bg-warning" style="height: 50px"></header>

	<div class="container mt-1 pt-2">

		<div class="container my-auto mx-auto" style="height: 75%">
			<div class="mx-auto" id="formContent">

				<div class="fadeIn first mx-auto my-auto"
					style="width: 35%; height: 20%;">
					<img class="mx-auto" th:src="@{~/images/key-4x.png}" id="cadKey" />
					<p class="mt-2 mb-1 font-weight-bold text-uppercase"
						style="color: #080090;">Cadastre uma chave com 3 letras
						aleatórias</p>
				</div>

				<form action="#" id="formulario-cadastro"
					th:action="@{~/usuario/salvarChave}" th:object="${usuarioModel}"
					method="post">

					<div class="container my-auto mx-auto" style="height: 75%">
						<fieldset>
							<span th:if="${msg_resultado}"> <span style='color: red'
								th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
							</span>

							<div
								class="form-group form-control-sm mb-1 mx-auto font-weight-bold"
								style="width: 70%">
								<label for="input_chave">Insira seu Código</label> <input
									type="text" class="form-control" id="input_codigo"
									name="codigo" required maxlength="5" th:field="*{codigo}"
									onfocus="limparMensagem()">
								<p th:if="${#fields.hasErrors('codigo')}" th:errors="*{codigo}"
									class="erro-msg">...</p>

							</div>

							<div
								class="form-group form-control-sm mb-1 mx-auto font-weight-bold"
								style="width: 70%">
								<label for="input_chave">Digite sua Senha</label> <input
									type="password" class="form-control" id="input_senha"
									name="senha" required maxlength="8" th:field="*{senha}"
									onfocus="limparMensagem()">
								<p th:if="${#fields.hasErrors('senha')}" th:errors="*{senha}"
									class="erro-msg">...</p>

							</div>

							<div
								class="form-group form-control-sm mb-1 mx-auto font-weight-bold"
								style="width: 70%">
								<label for="input_chave">Cadastre sua nova Chave de
									Segurança</label> <input type="text" class="form-control"
									id="input_chave" name="input_chave" required maxlength="3"
									th:field="*{chave}" onfocus="limparMensagem()">
								<p th:if="${#fields.hasErrors('chave')}" th:errors="*{chave}"
									class="erro-msg">...</p>

							</div>

							<button type="submit" class="fadeIn fourth"
								style="background-color: #080090; color: white;">Cadastrar</button>
							<button class="bg-primary fadeIn fourth" th:href="@{~/login}">Cancelar</button>

						</fieldset>

					</div>
				</form>


			</div>
		</div>
	</div>

	<div th:insert="~{fragments/footer :: footer}">&copy;</div>
</body>
</html>