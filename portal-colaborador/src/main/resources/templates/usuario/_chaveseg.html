<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link href="../../../resources/static/css/bootstrap.min.css"
	rel="stylesheet" media="screen"
	th:href="@{/resources/static/css/bootstrap.min.css}" />
</head>
<body>

	<div class="container my-5 mx-auto" style="height: 75%"
		th:fragment="_insereChave" th:align="center">
		<div class="mx-auto" id="formContent">

			<div class="fadeIn first mx-auto my-auto"
				style="width: 35%; height: 20%;">
				<img src="images/users_theuser_6177.ico" id="icon" alt="User Icon" />
				<p class="mt-2 mb-1 font-weight-bold text-uppercase"
					style="color: #080090;">Faça seu Login</p>
			</div>

			<form action="#" th:action="@{/usuario/seguranca}"
				th:object="${usuario}" method="post">

				<div class="container my-auto mx-auto" style="height: 75%">

					<span th:if="${param.error}"> <span style='color: red'
						th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
					</span>

					<div
						class="form-group form-control-sm mb-1 mx-auto font-weight-bold"
						style="width: 70%">
						<label for="chave">Chave de Segurança</label> <input
							type="password" class="form-control" id="input_chave"
							name="chave" placeholder="" required maxlength="3" alt="">

					</div>
					<input type="submit" class="fadeIn fourth"
						style="background-color: #080090; color: white;" value="Atualizar">

				</div>
			</form>

		</div>
	</div>

	<div class="mx-auto" id="formContent" th:fragment="_cadastra_chave"
		th:align="center">

		<div class="fadeIn first mx-auto my-auto"
			style="width: 35%; height: 20%;">
			<img src="../../static/images/key-4x.png" id="iconChave" />
			<p class="mt-2 mb-1 font-weight-bold text-uppercase"
				style="color: #080090;">Cadastre uma chave de segurança de 3
				letras</p>
		</div>

		<form action="#" id="formulario-cadastro"
			th:action="@{~/usuario/salvarChave}" th:object="${usuarioModel}"
			method="post">

			<div class="container my-auto mx-auto" style="height: 75%">
				<fieldset>
					<span th:if="${msg_resultado}"> <span style='color: red'
						th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
					</span>


					<div
						class="form-group form-control-sm mb-1 mx-auto font-weight-bold"
						style="width: 70%">
						<label for="input_chave">Cadastre sua nova Chave de
							Segurança</label> <input type="text" class="form-control"
							id="input_chave" name="input_chave" required maxlength="3"
							th:field="*{chave}" onfocus="limparMensagem()">
						<p th:if="${#fields.hasErrors('chave')}" th:errors="*{chave}"
							class="erro-msg">...</p>

					</div>
					<div class="mb-2">
						<button type="submit" class="fadeIn fourth"
							style="background-color: #080090; color: white;">Cadastrar</button>

					</div>

				</fieldset>

			</div>
		</form>
		<button class="bg-primary fadeIn fourth mb-3" th:href="@{../login}">Cancelar</button>
	</div>

</body>
</html>